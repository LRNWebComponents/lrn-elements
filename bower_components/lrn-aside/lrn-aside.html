<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-card/paper-card.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../lrndesign-card/lrndesign-card.html">
<link rel="import" href="../lrndesign-drawer/lrndesign-drawer.html">
<link rel="import" href="../lrndesign-contentblock/lrndesign-contentblock.html">
<link rel="import" href="../lrnsys-behaviors/lrnsys-behaviors.html">
<link rel="import" href="../lrndesign-panelcard/lrndesign-panelcard.html">

<!--
`lrn-aside`
A LRN element

@demo demo/index.html
-->

<dom-module id="lrn-aside">
  <template>
    <style>
      :host {
        display: flex;
      }
      .sticky {
        top:0;
        width: 20vw;
        padding: .5em;
        overflow: scroll;
        position: fixed;
      }
      .hang-left {
        right: 80vw;
      }
      .hang-right {
        left: 80vw;
      }
      paper-card {
        width: 100%;
      }
    </style>
    <aside class$="{{_makeClass(sticky, direction)}}">
      <!-- big switch statement for the different display modes we support here -->
      <template is="dom-if" if="{{matchDisplay('paper-card', display)}}">
        <paper-card heading="{{title}}" image="{{image}}" elevation="1" animated-shadow="false">
          <div class="card-content">
            <content></content>
          </div>
        </paper-card>
      </template>
      <template is="dom-if" if="{{matchDisplay('card', display)}}">
        <lrndesign-card title="{{title}}" image="{{image}}">
          <content></content>
        </lrndesign-card>
      </template>
      <template is="dom-if" if="{{matchDisplay('drawer', display)}}">
        <lrndesign-drawer icon="lrn-icons:assignment" align="right">
          <h2>{{title}}</h2>
          <content></content>
        </lrndesign-drawer>
      </template>
      <template is="dom-if" if="{{matchDisplay('contentblock', display)}}">
        <lrndesign-contentblock title="{{title}}" persistent>
          <content></content>
        </lrndesign-contentblock>
      </template>
      <template is="dom-if" if="{{matchDisplay('panelcard', display)}}">
        <lrndesign-panelcard show-hax title="{{title}}" display-style="{{displayStyle}}">
          <content></content>
        </lrndesign-panelcard>
      </template>
    </aside>
  </template>

  <script>
    Polymer({
      is: 'lrn-aside',
      behaviors: [LRNBehaviors.DisplayBehaviors],
      properties: {
        /**
         * Title for the aside.
         */
        title: {
          type: String,
          value: 'Related content',
          reflectToAttribute: true,
          notify: true,
        },
        /**
         * Apply CSS sticky styling
         */
        sticky: {
          type: Boolean,
          value: false,
          reflectToAttribute: true,
          notify: true,
        },
        /**
         * Direction to hang off UI if sticky, left or right.
         */
        direction: {
          type: String,
          value: '',
          reflectToAttribute: true,
          notify: true,
        }
      },
      /**
       * Generate a class from some options on the host element
       */
      _makeClass: function(sticky, direction) {
        var str = 'aside';
        if (sticky) {
          str += ' sticky';
        }
        // allow for right / left variations of sticky
        if (direction == 'right') {
          str += ' hang-right';
        }
        else if (direction == 'left') {
          str += ' hang-left';
        }
        return str;
      }
    });
  </script>
</dom-module>
